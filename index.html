<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser-arcade-physics.min.js"></script>
    <link rel="stylesheet" href="index.css"/>
</head>
<body>

<script>
    class Example extends Phaser.Scene {
        preload() {
            this.load.setBaseURL('http://localhost:63342/sowiz');
            this.load.spritesheet('mob1', 'sprites/mob-1.png', {frameWidth: 32, frameHeight: 32});
        }

        create() {
            const config = {
                key: 'idleAnimation',
                frames: this.anims.generateFrameNumbers('mob1', {start: 0, end: 4, first: 0}),
                frameRate: 15,
                repeat: -1
            };
            this.anims.create(config);
            this.mob1 = this.add.sprite(300, 300, 'idle').play('idleAnimation');
            this.input.on('pointerdown', (pointer) => {
                this.moveSprite(pointer.x, pointer.y);
            });
        }

        moveSprite(x, y) {
            const sprite = this.mob1;
            const distance = Phaser.Math.Distance.Between(sprite.x, sprite.y, x, y);
            this.tweens.add({
                targets: sprite,
                x: x,
                y: y,
                duration: distance * 10,
                ease: 'Linear'
            });
        }
    }

    const config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        scene: Example,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: {y: 200}
            }
        }
    };

    const game = new Phaser.Game(config);
</script>

</body>
</html>